<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="10" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/17.0.12" fx:controller="com.mondial.ticket.view.TicketController">
    <padding><Insets bottom="10" left="10" right="10" top="10" /></padding>
    <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Billetterie du Mondial 2030" />
    <HBox fx:id="adminAddSection" alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #FFF3E0; -fx-padding: 10;">
        <Label style="-fx-font-weight: bold; -fx-text-fill: #FF5722;" text="Admin:" />
        <ComboBox fx:id="adminMatchCombo" prefWidth="220" promptText="Choisir un match" />
        <ComboBox fx:id="categorieCombo" />
        <TextField fx:id="prixField" prefWidth="70" promptText="Prix" />
        <Button fx:id="addTicketBtn" onAction="#handleAjouterTicket" style="-fx-background-color: #4CAF50; -fx-text-fill: white;" text="Ajouter Ticket" />
    </HBox>
    <Separator />
    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #E3F2FD; -fx-padding: 10;">
        <Label style="-fx-font-weight: bold;" text="Choisir un match:" />
        <ComboBox fx:id="matchCombo" prefWidth="220" promptText="Selectionner un match" />
        <Label text="Categorie:" />
        <ComboBox fx:id="userCategorieCombo" prefWidth="100" />
        <Button onAction="#handleShowAll" style="-fx-background-color: #607D8B; -fx-text-fill: white;" text="Voir Tous" />
    </HBox>
    <Label style="-fx-font-size: 11px; -fx-text-fill: #666; -fx-font-style: italic;" text="Selectionnez un ticket et cliquez sur Acheter (ou double-cliquez)" />
    <TableView fx:id="ticketTable" VBox.vgrow="ALWAYS">
        <columns>
            <TableColumn fx:id="colNomMatch" prefWidth="200" text="Match" />
            <TableColumn fx:id="colCategorie" prefWidth="100" text="Categorie" />
            <TableColumn fx:id="colPrix" prefWidth="80" text="Prix (EUR)" />
            <TableColumn fx:id="colStatus" prefWidth="100" text="Statut" />
            <TableColumn fx:id="colAcheteur" prefWidth="120" text="Acheteur" />
        </columns>
    </TableView>
    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #E8F5E9; -fx-padding: 10;">
        <Label style="-fx-font-weight: bold; -fx-text-fill: #2E7D32;" text="Acheter le ticket selectionne:" />
        <Button onAction="#handleBuySelectedTicket" style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 20;" text="Acheter" />
        <Label fx:id="acheteurLabel" style="-fx-font-style: italic; -fx-text-fill: #666;" text="" />
    </HBox>
    <Separator />
    <HBox alignment="CENTER_LEFT" spacing="10">
        <Label style="-fx-font-weight: bold;" text="Recherche:" />
        <TextField fx:id="searchField" prefWidth="200" promptText="Rechercher..." />
        <Button onAction="#handleSearch" style="-fx-background-color: #9C27B0; -fx-text-fill: white;" text="Rechercher" />
        <Region HBox.hgrow="ALWAYS" />
        <Button fx:id="deleteTicketBtn" onAction="#handleSupprimerTicket" style="-fx-background-color: #f44336; -fx-text-fill: white;" text="Supprimer" />
        <Button fx:id="statsBtn" onAction="#handleStatistiques" style="-fx-background-color: #2196F3; -fx-text-fill: white;" text="Stats" />
        <Button fx:id="exportAllBtn" onAction="#handleExportAll" style="-fx-background-color: #795548; -fx-text-fill: white;" text="Export" />
    </HBox>
    <Label fx:id="statusLabel" style="-fx-text-fill: #666666; -fx-font-weight: bold;" text="" />
</VBox>
